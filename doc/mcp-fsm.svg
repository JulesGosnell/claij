<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 13.1.2 (20250808.2320)
 -->
<!-- Title: mcp Pages: 1 -->
<svg width="944pt" height="856pt"
 viewBox="0.00 0.00 944.00 856.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 852.22)">
<title>mcp</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-852.22 939.92,-852.22 939.92,4 -4,4"/>
<!-- title -->
<g id="node1" class="node">
<title>title</title>
<text xml:space="preserve" text-anchor="start" x="8" y="-825.55" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#666666">Orchestrates MCP protocol interactions</text>
</g>
<!-- start -->
<g id="node2" class="node">
<title>start</title>
<ellipse fill="lightgreen" stroke="black" cx="143" cy="-747.66" rx="23.56" ry="23.56"/>
<ellipse fill="none" stroke="black" cx="143" cy="-747.66" rx="27.56" ry="27.56"/>
<text xml:space="preserve" text-anchor="middle" x="143" y="-744.54" font-family="Helvetica,sans-Serif" font-size="10.00">start</text>
</g>
<!-- title&#45;&gt;start -->
<!-- starting -->
<g id="node4" class="node">
<title>starting</title>
<path fill="none" stroke="black" d="M158,-661.61C158,-661.61 128,-661.61 128,-661.61 122,-661.61 116,-655.61 116,-649.61 116,-649.61 116,-637.61 116,-637.61 116,-631.61 122,-625.61 128,-625.61 128,-625.61 158,-625.61 158,-625.61 164,-625.61 170,-631.61 170,-637.61 170,-637.61 170,-649.61 170,-649.61 170,-655.61 164,-661.61 158,-661.61"/>
<text xml:space="preserve" text-anchor="middle" x="143" y="-646.86" font-family="Helvetica,sans-Serif" font-size="10.00">starting</text>
<text xml:space="preserve" text-anchor="middle" x="143" y="-634.11" font-family="Helvetica,sans-Serif" font-size="10.00">(start)</text>
</g>
<!-- start&#45;&gt;starting -->
<g id="edge2" class="edge">
<title>start&#45;&gt;starting</title>
<path fill="none" stroke="black" d="M143,-719.85C143,-705.55 143,-687.94 143,-673.35"/>
<polygon fill="black" stroke="black" points="146.5,-673.47 143,-663.47 139.5,-673.47 146.5,-673.47"/>
<text xml:space="preserve" text-anchor="middle" x="260.38" y="-693.56" font-family="Helvetica,sans-Serif" font-size="9.00">document</text>
<text xml:space="preserve" text-anchor="middle" x="260.38" y="-682.31" font-family="Helvetica,sans-Serif" font-size="9.00">starts the MCP service. Returns an initialise&#45;request.</text>
</g>
<!-- end -->
<g id="node3" class="node">
<title>end</title>
<ellipse fill="lightcoral" stroke="black" cx="213" cy="-24.8" rx="20.8" ry="20.8"/>
<ellipse fill="none" stroke="black" cx="213" cy="-24.8" rx="24.8" ry="24.8"/>
<text xml:space="preserve" text-anchor="middle" x="213" y="-21.68" font-family="Helvetica,sans-Serif" font-size="10.00">end</text>
</g>
<!-- shedding -->
<g id="node5" class="node">
<title>shedding</title>
<path fill="none" stroke="black" d="M128.12,-544.61C128.12,-544.61 91.88,-544.61 91.88,-544.61 85.88,-544.61 79.88,-538.61 79.88,-532.61 79.88,-532.61 79.88,-520.61 79.88,-520.61 79.88,-514.61 85.88,-508.61 91.88,-508.61 91.88,-508.61 128.12,-508.61 128.12,-508.61 134.12,-508.61 140.12,-514.61 140.12,-520.61 140.12,-520.61 140.12,-532.61 140.12,-532.61 140.12,-538.61 134.12,-544.61 128.12,-544.61"/>
<text xml:space="preserve" text-anchor="middle" x="110" y="-529.86" font-family="Helvetica,sans-Serif" font-size="10.00">shedding</text>
<text xml:space="preserve" text-anchor="middle" x="110" y="-517.11" font-family="Helvetica,sans-Serif" font-size="10.00">(shed)</text>
</g>
<!-- starting&#45;&gt;shedding -->
<g id="edge3" class="edge">
<title>starting&#45;&gt;shedding</title>
<path fill="none" stroke="black" d="M115.79,-640.97C93.03,-638 61.84,-629.83 46.25,-607.61 34.76,-591.23 36.06,-579.82 46.25,-562.61 51.63,-553.51 60.31,-546.62 69.56,-541.47"/>
<polygon fill="black" stroke="black" points="70.87,-544.72 78.32,-537.2 67.8,-538.43 70.87,-544.72"/>
<text xml:space="preserve" text-anchor="middle" x="136.62" y="-599.06" font-family="Helvetica,sans-Serif" font-size="9.00">initialise</text>
<text xml:space="preserve" text-anchor="middle" x="136.62" y="-587.81" font-family="Helvetica,sans-Serif" font-size="9.00">request</text>
<text xml:space="preserve" text-anchor="middle" x="136.62" y="-576.56" font-family="Helvetica,sans-Serif" font-size="9.00">(timeout)</text>
<text xml:space="preserve" text-anchor="middle" x="136.62" y="-565.31" font-family="Helvetica,sans-Serif" font-size="9.00">Shed unwanted list&#45;changed messages.</text>
</g>
<!-- initing -->
<g id="node6" class="node">
<title>initing</title>
<path fill="none" stroke="black" d="M191,-450.11C191,-450.11 161,-450.11 161,-450.11 155,-450.11 149,-444.11 149,-438.11 149,-438.11 149,-426.11 149,-426.11 149,-420.11 155,-414.11 161,-414.11 161,-414.11 191,-414.11 191,-414.11 197,-414.11 203,-420.11 203,-426.11 203,-426.11 203,-438.11 203,-438.11 203,-444.11 197,-450.11 191,-450.11"/>
<text xml:space="preserve" text-anchor="middle" x="176" y="-435.36" font-family="Helvetica,sans-Serif" font-size="10.00">initing</text>
<text xml:space="preserve" text-anchor="middle" x="176" y="-422.61" font-family="Helvetica,sans-Serif" font-size="10.00">(init)</text>
</g>
<!-- starting&#45;&gt;initing -->
<g id="edge4" class="edge">
<title>starting&#45;&gt;initing</title>
<path fill="none" stroke="black" d="M170.33,-639.16C189.73,-635.12 214.47,-626.4 227,-607.61 258.02,-561.08 221.68,-495.37 196.35,-459.32"/>
<polygon fill="black" stroke="black" points="199.48,-457.67 190.77,-451.63 193.81,-461.78 199.48,-457.67"/>
<text xml:space="preserve" text-anchor="middle" x="337.58" y="-534.93" font-family="Helvetica,sans-Serif" font-size="9.00">initialise</text>
<text xml:space="preserve" text-anchor="middle" x="337.58" y="-523.68" font-family="Helvetica,sans-Serif" font-size="9.00">response</text>
<text xml:space="preserve" text-anchor="middle" x="337.58" y="-512.43" font-family="Helvetica,sans-Serif" font-size="9.00">Direct path when initialize response received</text>
</g>
<!-- shedding&#45;&gt;initing -->
<g id="edge5" class="edge">
<title>shedding&#45;&gt;initing</title>
<path fill="none" stroke="black" d="M122.41,-508.21C132.19,-494.51 145.97,-475.2 157.11,-459.59"/>
<polygon fill="black" stroke="black" points="159.8,-461.83 162.76,-451.66 154.11,-457.77 159.8,-461.83"/>
<text xml:space="preserve" text-anchor="middle" x="171.1" y="-482.06" font-family="Helvetica,sans-Serif" font-size="9.00">initialise</text>
<text xml:space="preserve" text-anchor="middle" x="171.1" y="-470.81" font-family="Helvetica,sans-Serif" font-size="9.00">response</text>
</g>
<!-- servicing -->
<g id="node7" class="node">
<title>servicing</title>
<path fill="none" stroke="black" d="M194.12,-355.61C194.12,-355.61 157.88,-355.61 157.88,-355.61 151.88,-355.61 145.88,-349.61 145.88,-343.61 145.88,-343.61 145.88,-331.61 145.88,-331.61 145.88,-325.61 151.88,-319.61 157.88,-319.61 157.88,-319.61 194.12,-319.61 194.12,-319.61 200.12,-319.61 206.12,-325.61 206.12,-331.61 206.12,-331.61 206.12,-343.61 206.12,-343.61 206.12,-349.61 200.12,-355.61 194.12,-355.61"/>
<text xml:space="preserve" text-anchor="middle" x="176" y="-340.86" font-family="Helvetica,sans-Serif" font-size="10.00">servicing</text>
<text xml:space="preserve" text-anchor="middle" x="176" y="-328.11" font-family="Helvetica,sans-Serif" font-size="10.00">(service)</text>
</g>
<!-- initing&#45;&gt;servicing -->
<g id="edge6" class="edge">
<title>initing&#45;&gt;servicing</title>
<path fill="none" stroke="black" d="M176,-413.71C176,-400.66 176,-382.51 176,-367.32"/>
<polygon fill="black" stroke="black" points="179.5,-367.44 176,-357.44 172.5,-367.44 179.5,-367.44"/>
<text xml:space="preserve" text-anchor="middle" x="201.5" y="-387.56" font-family="Helvetica,sans-Serif" font-size="9.00">initialise</text>
<text xml:space="preserve" text-anchor="middle" x="201.5" y="-376.31" font-family="Helvetica,sans-Serif" font-size="9.00">notification</text>
</g>
<!-- caching -->
<g id="node8" class="node">
<title>caching</title>
<path fill="none" stroke="black" d="M66,-249.86C66,-249.86 36,-249.86 36,-249.86 30,-249.86 24,-243.86 24,-237.86 24,-237.86 24,-225.86 24,-225.86 24,-219.86 30,-213.86 36,-213.86 36,-213.86 66,-213.86 66,-213.86 72,-213.86 78,-219.86 78,-225.86 78,-225.86 78,-237.86 78,-237.86 78,-243.86 72,-249.86 66,-249.86"/>
<text xml:space="preserve" text-anchor="middle" x="51" y="-235.11" font-family="Helvetica,sans-Serif" font-size="10.00">caching</text>
<text xml:space="preserve" text-anchor="middle" x="51" y="-222.36" font-family="Helvetica,sans-Serif" font-size="10.00">(cache)</text>
</g>
<!-- servicing&#45;&gt;caching -->
<g id="edge7" class="edge">
<title>servicing&#45;&gt;caching</title>
<path fill="none" stroke="black" d="M145.51,-332.24C112.54,-326.83 63.13,-316.46 51.75,-301.61 43.16,-290.39 42.35,-274.86 43.97,-261.39"/>
<polygon fill="black" stroke="black" points="47.38,-262.19 45.62,-251.74 40.48,-261.01 47.38,-262.19"/>
<text xml:space="preserve" text-anchor="middle" x="84.38" y="-293.06" font-family="Helvetica,sans-Serif" font-size="9.00">list_changed,</text>
<text xml:space="preserve" text-anchor="middle" x="84.38" y="-281.81" font-family="Helvetica,sans-Serif" font-size="9.00">list_response,</text>
<text xml:space="preserve" text-anchor="middle" x="84.38" y="-270.56" font-family="Helvetica,sans-Serif" font-size="9.00">read_response</text>
</g>
<!-- llm -->
<g id="node9" class="node">
<title>llm</title>
<path fill="none" stroke="black" d="M228,-144.11C228,-144.11 198,-144.11 198,-144.11 192,-144.11 186,-138.11 186,-132.11 186,-132.11 186,-120.11 186,-120.11 186,-114.11 192,-108.11 198,-108.11 198,-108.11 228,-108.11 228,-108.11 234,-108.11 240,-114.11 240,-120.11 240,-120.11 240,-132.11 240,-132.11 240,-138.11 234,-144.11 228,-144.11"/>
<text xml:space="preserve" text-anchor="middle" x="213" y="-129.36" font-family="Helvetica,sans-Serif" font-size="10.00">llm</text>
<text xml:space="preserve" text-anchor="middle" x="213" y="-116.61" font-family="Helvetica,sans-Serif" font-size="10.00">(llm)</text>
</g>
<!-- servicing&#45;&gt;llm -->
<g id="edge9" class="edge">
<title>servicing&#45;&gt;llm</title>
<path fill="none" stroke="black" d="M189.79,-319.35C193.4,-313.96 196.88,-307.8 199,-301.61 215.86,-252.49 216.45,-191.21 214.98,-155.88"/>
<polygon fill="black" stroke="black" points="218.48,-155.84 214.47,-146.04 211.49,-156.2 218.48,-155.84"/>
<text xml:space="preserve" text-anchor="middle" x="397.04" y="-240.18" font-family="Helvetica,sans-Serif" font-size="9.00">tool</text>
<text xml:space="preserve" text-anchor="middle" x="397.04" y="-228.93" font-family="Helvetica,sans-Serif" font-size="9.00">response</text>
<text xml:space="preserve" text-anchor="middle" x="397.04" y="-217.68" font-family="Helvetica,sans-Serif" font-size="9.00">Tool response returning to LLM &#45; schema dynamically generated from MCP cache</text>
</g>
<!-- caching&#45;&gt;servicing -->
<g id="edge8" class="edge">
<title>caching&#45;&gt;servicing</title>
<path fill="none" stroke="black" d="M78.27,-243.63C90.96,-249.52 105.72,-257.71 117,-267.86 130.45,-279.96 128.12,-287.75 139.75,-301.61 142.44,-304.81 145.39,-308.04 148.4,-311.17"/>
<polygon fill="black" stroke="black" points="145.79,-313.51 155.35,-318.08 150.73,-308.55 145.79,-313.51"/>
<text xml:space="preserve" text-anchor="middle" x="169.38" y="-287.43" font-family="Helvetica,sans-Serif" font-size="9.00">list_request,</text>
<text xml:space="preserve" text-anchor="middle" x="169.38" y="-276.18" font-family="Helvetica,sans-Serif" font-size="9.00">read_request</text>
</g>
<!-- caching&#45;&gt;llm -->
<g id="edge10" class="edge">
<title>caching&#45;&gt;llm</title>
<path fill="none" stroke="black" d="M41.68,-213.37C35.01,-198.17 29.07,-176.4 40.75,-162.11 57.31,-141.84 129.04,-133.02 174.55,-129.4"/>
<polygon fill="black" stroke="black" points="174.56,-132.91 184.28,-128.68 174.05,-125.93 174.56,-132.91"/>
<text xml:space="preserve" text-anchor="middle" x="119.88" y="-187.31" font-family="Helvetica,sans-Serif" font-size="9.00">cache</text>
<text xml:space="preserve" text-anchor="middle" x="119.88" y="-176.06" font-family="Helvetica,sans-Serif" font-size="9.00">ready</text>
<text xml:space="preserve" text-anchor="middle" x="119.88" y="-164.81" font-family="Helvetica,sans-Serif" font-size="9.00">Cache is ready, LLM can start work</text>
</g>
<!-- llm&#45;&gt;end -->
<g id="edge12" class="edge">
<title>llm&#45;&gt;end</title>
<path fill="none" stroke="black" d="M213,-107.81C213,-94.93 213,-76.91 213,-61.04"/>
<polygon fill="black" stroke="black" points="216.5,-61.48 213,-51.48 209.5,-61.48 216.5,-61.48"/>
<text xml:space="preserve" text-anchor="middle" x="345.38" y="-81.56" font-family="Helvetica,sans-Serif" font-size="9.00">output</text>
<text xml:space="preserve" text-anchor="middle" x="345.38" y="-70.31" font-family="Helvetica,sans-Serif" font-size="9.00">LLM completes work &#45; result must use MCP content format</text>
</g>
<!-- llm&#45;&gt;servicing -->
<g id="edge11" class="edge">
<title>llm&#45;&gt;servicing</title>
<path fill="none" stroke="black" d="M240.21,-126.82C340.29,-126.66 677.39,-134.52 584,-249.86 538.17,-306.46 312.47,-327.67 217.86,-334.16"/>
<polygon fill="black" stroke="black" points="217.72,-330.66 207.97,-334.81 218.18,-337.65 217.72,-330.66"/>
<text xml:space="preserve" text-anchor="middle" x="767.92" y="-240.18" font-family="Helvetica,sans-Serif" font-size="9.00">tool</text>
<text xml:space="preserve" text-anchor="middle" x="767.92" y="-228.93" font-family="Helvetica,sans-Serif" font-size="9.00">call</text>
<text xml:space="preserve" text-anchor="middle" x="767.92" y="-217.68" font-family="Helvetica,sans-Serif" font-size="9.00">LLM makes MCP request &#45; schema dynamically generated from MCP cache</text>
</g>
</g>
</svg>
