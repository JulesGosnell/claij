{:paths ["src" "resources"]
 :deps {org.clojure/clojure {:mvn/version "1.12.3"}

        ;; Web server & routing
        ring/ring {:mvn/version "1.14.1"} ; 1.15.0-beta1 is available but using stable
        metosin/reitit {:mvn/version "0.9.1"}
        metosin/reitit-ring {:mvn/version "0.9.1"}

        ;; HTTP client for Claude API
        clj-http/clj-http {:mvn/version "3.13.1"}

        ;; Async processing
        org.clojure/core.async {:mvn/version "1.8.741"}

        ;; JSON handling
        metosin/jsonista {:mvn/version "0.3.13"}
        org.clojure/data.json {:mvn/version "2.5.1"}

        ;; Logging
        com.taoensso/timbre {:mvn/version "6.6.2"}
        org.clojure/tools.logging {:mvn/version "1.3.0"}}

 :aliases
 {:dev {:extra-paths ["dev" "test"]
        :extra-deps {nrepl/nrepl {:mvn/version "1.5.0"}
                     cider/cider-nrepl {:mvn/version "0.50.2"}
                     ring/ring-devel {:mvn/version "1.14.1"}
                     ;; MCP dependencies (only in dev, excluded from production builds)
                     com.bhauman/clojure-mcp {:mvn/version "0.1.6-SNAPSHOT"
                                              :exclusions [org.slf4j/slf4j-nop]}}
        :main-opts ["-m" "nrepl.cmdline" "--interactive"]}

  :run {:main-opts ["-m" "claij.agent.core"]}

  :test {:extra-paths ["test"]
         :extra-deps {lambdaisland/kaocha {:mvn/version "1.91.1392"}}
         :main-opts ["-m" "kaocha.runner"]}

  :coverage {:extra-paths ["test"]
             :extra-deps {cloverage/cloverage {:mvn/version "1.2.4"}}
             :main-opts ["-m" "cloverage.coverage"
                         "--src-ns-path" "src"
                         "--test-ns-path" "test"
                         "--ns-exclude-regex" "claij.agent.*"
                         "--ns-exclude-regex" "claij.clojure-mcp"
                         "--ns-exclude-regex" "claij.core"
                         "--test-ns-regex" "claij.(speech|stt).*"
                         "--exclude-call" "clojure.tools.logging"
                         "--exclude-call" "taoensso.timbre"]}

  :mcp {:extra-paths ["test"]
        :extra-deps {nrepl/nrepl {:mvn/version "1.5.0"}
                     com.bhauman/clojure-mcp {:mvn/version "0.1.6-SNAPSHOT"
                                              :exclusions [org.slf4j/slf4j-nop]}}
        :main-opts ["-m" "claij.clojure-mcp"]}

  :speech {:extra-deps {org.slf4j/slf4j-simple {:mvn/version "2.0.16"}}
           :main-opts ["-m" "claij.speech.core"]}

  :whisper {:extra-deps {org.slf4j/slf4j-simple {:mvn/version "2.0.16"}
                         ;; Python interop - only needed to run STT services
                         clj-python/libpython-clj {:mvn/version "2.025"}}
            :main-opts ["-m" "claij.stt.server"]}}}
